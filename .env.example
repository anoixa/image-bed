# ==================== 服务器配置 ====================
# 服务器监听地址，0.0.0.0 表示监听所有接口，127.0.0.1 仅监听本地
SERVER_HOST=127.0.0.1

# 服务端口，访问服务的端口号
SERVER_PORT=8080

# 外部访问域名，用于生成图片链接，为空则自动使用 http://host:port
SERVER_DOMAIN=

# CORS 允许的前端源地址，多个用逗号分隔
# 默认: http://localhost:5173,http://127.0.0.1:5173
# 开发环境可以添加你的前端地址，如: http://192.168.10.4:5173
CORS_ORIGINS=

# ==================== 数据库配置 ====================
# 数据库类型: sqlite 或 postgresql
DB_TYPE=sqlite

# PostgreSQL 配置（DB_TYPE=postgresql 时生效）
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=
DB_NAME=image-bed

# SQLite 配置（DB_TYPE=sqlite 时生效）
# 数据库文件路径，为空则使用默认路径
DB_FILE_PATH=

# ==================== 缓存配置 ====================
# 缓存类型: memory (内存缓存) 或 redis (Redis 缓存)
# - memory: 使用本地内存缓存（单机部署推荐）
# - redis: 使用 Redis 缓存（分布式部署推荐）
CACHE_TYPE=memory

# Redis 配置（CACHE_TYPE=redis 时生效）
CACHE_REDIS_ADDR=localhost:6379
CACHE_REDIS_PASSWORD=
CACHE_REDIS_DB=0

# ==================== 上传配置 ====================
# 单文件最大上传大小（MB）
UPLOAD_MAX_SIZE_MB=50

# 批量上传总大小限制（MB）
UPLOAD_MAX_BATCH_TOTAL_MB=500

# ==================== Worker 配置 ====================
# 异步任务协程池 worker 数量
# -1 = 使用当前 CPU 线程数
# 0  = 使用默认值（max(2, CPU核心数)）
# >0 = 使用指定数量
WORKER_COUNT=-1

# Worker 内存限制（MB）
# 当内存使用超过此限制时，会触发内存保护机制
# 默认 512MB，设为 0 表示无限制
WORKER_MEMORY_LIMIT_MB=512

# ==================== 密钥配置 ====================
# 配置加密密钥（base64 编码的 32 字节密钥）
# 留空则自动生成并存储在 data/config/master.key
CONFIG_ENCRYPTION_KEY=

