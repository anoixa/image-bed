# ==================== 服务器配置 ====================
# 服务器监听地址，0.0.0.0 表示监听所有接口，127.0.0.1 仅监听本地
SERVER_HOST=127.0.0.1

# 服务端口，访问服务的端口号
SERVER_PORT=8080

# 外部访问域名，用于生成图片链接，为空则自动使用 http://host:port
SERVER_DOMAIN=

# 服务器超时配置（Go Duration 格式：s/m/h）
SERVER_READ_TIMEOUT=15s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# ==================== 数据库配置 ====================
# 数据库类型: sqlite 或 postgresql
DB_TYPE=sqlite

# PostgreSQL 配置（DB_TYPE=postgresql 时生效）
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=
DB_NAME=image-bed

# SQLite 配置（DB_TYPE=sqlite 时生效）
# 数据库文件路径，为空则使用默认路径
DB_FILE_PATH=

# 数据库连接池配置
DB_MAX_OPEN_CONNS=100
DB_MAX_IDLE_CONNS=25
DB_CONN_MAX_LIFETIME=3600

# ==================== 缓存配置 ====================
# 最大图片缓存大小（MB），0 表示无限制
CACHE_MAX_IMAGE_CACHE_SIZE_MB=10

# 是否启用图片缓存
CACHE_ENABLE_IMAGE_CACHING=false

# 图片元数据缓存时间（秒）
CACHE_IMAGE_CACHE_TTL=3600

# 图片数据缓存时间（秒）
CACHE_IMAGE_DATA_CACHE_TTL=3600

# ==================== 限流配置 ====================
# API 接口限流（上传/管理等操作）
RATE_LIMIT_API_RPS=30
RATE_LIMIT_API_BURST=60

# 图片访问限流（查看图片，应更宽松）
RATE_LIMIT_IMAGE_RPS=100
RATE_LIMIT_IMAGE_BURST=200

# 认证接口限流（登录等，数值较小防止暴力破解）
RATE_LIMIT_AUTH_RPS=0.5
RATE_LIMIT_AUTH_BURST=5

# 限流器过期时间（Go Duration 格式：s/m/h）
RATE_LIMIT_EXPIRE_TIME=10m

# ==================== 上传配置 ====================
# 单文件最大上传大小（MB）
UPLOAD_MAX_SIZE_MB=50

# 批量上传总大小限制（MB）
UPLOAD_MAX_BATCH_TOTAL_MB=500

# ==================== Worker 配置 ====================
# 异步任务协程池 worker 数量
# -1 = 使用当前 CPU 线程数
# 0  = 使用默认值（max(2, CPU核心数)）
# >0 = 使用指定数量
WORKER_COUNT=-1
